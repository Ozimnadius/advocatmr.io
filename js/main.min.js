//@prepros-append pages/common.js
//@prepros-append pages/sliders.js
//@prepros-append pages/index.js
//@prepros-append pages/maps.js
// common.js
function getNumber(str) {
    return parseInt(str.replace(/\s/g, ''));
}

function number_format(number, decimals, dec_point, thousands_sep) {
    var i, j, kw, kd, km;
    if (isNaN(decimals = Math.abs(decimals))) {
        decimals = 2;
    }
    if (dec_point == undefined) {
        dec_point = ",";
    }
    if (thousands_sep == undefined) {
        thousands_sep = ".";
    }
    i = parseInt(number = (+number || 0).toFixed(decimals)) + "";
    if ((j = i.length) > 3) {
        j = j % 3;
    } else {
        j = 0;
    }
    km = (j ? i.substr(0, j) + thousands_sep : "");
    kw = i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousands_sep);
    kd = (decimals ? dec_point + Math.abs(number - i).toFixed(decimals).replace(/-/, 0).slice(2) : "");
    return km + kw + kd;
}

function imageResize(src) {
    $('img').not('.logo__img').attr('src', src);
}
// imageResize('https://loremflickr.com/320/440');

const wWidth = $(window).width();
//sliders.js
$(function () {


    let ipartnersSlider = new Swiper('.slider__container', {
        slidesPerView: 3,
        spaceBetween: 40,
        navigation: {
            nextEl: '.slider__next',
            prevEl: '.slider__prev',
        }
    });


});
//index.js
$(function () {

    $('.inews__list').masonry({
        itemSelector: '.inew',
    });

    let ipagSlider = new Swiper('.ipag__container', {
        slidesPerView: 'auto',
        slideToClickedSlide: true,
        watchSlidesVisibility: true,
        loop: true,
        navigation: {
            nextEl: '.inews__next',
            prevEl: '.inews__prev',
        },
        on: {
            slideChange: function () {
                let slide = this.slides[this.activeIndex],
                    id = slide.dataset.id,
                    slides = $(inewsSlider.slides),
                    inewsSlide = slides.filter('[data-id="'+id+'"]'),
                    x = $.inArray(inewsSlide[0],slides);

                inewsSlider.slideTo (x);
            }
        }
    });

    let inewsSlider = new Swiper('.inews__slider-container', {
        spaceBetween: 0,
        slidesPerView: 1,
        allowTouchMove: false
    });


});
//maps.js

/*YANDEX*/
$(function () {
    ymaps.ready(init);
    var myMap,
        myPlacemark,
        myPin;

    function init() {

        if ($('#imap').length) {
            var center = [55.75968406898679,37.574857499999965];
            // if ($(window).width() < 576) {
            //     center = [55.609501798660396, 37.61325538360591];
            // }

            myMap = new ymaps.Map("imap", {
                center: center,
                zoom: 17,
                controls: []
            });


            myMap.behaviors.disable(['scrollZoom']);
            // myMap.controls.remove('geolocationControl')
            //     .remove('searchControl')
            //     .remove('trafficControl')
            //     .remove('typeSelector')
            //     .remove('fullscreenControl')
            //     .remove('zoomControl')
            //     .remove('rulerControl');
            // myMap.controls.add('zoomControl');

            myPin = new ymaps.GeoObjectCollection({}, {
                // iconLayout: 'default#image',
                // iconImageHref: '/img/icons/map-marker.svg',
                // iconImageSize: [46, 57],
                // iconImageOffset: [-15, -55]
            });


            myPlacemark = new ymaps.Placemark([55.75968406898679,37.574857499999965], {
                    balloonContentHeader: "Матвеева и партнеры",
                    balloonContentBody: "Квалифицированная юридическая помощь",
                    balloonContentFooter: "Москва, ул. Дружинниковская, 15 (киноцентр на Красной Пресне)",
                    hintContent: "advokatmr.ru"
                },
                {
                    iconLayout: 'default#image',
                    iconImageHref: '/images/icons/map-pin.svg',
                    iconImageSize: [60, 68],
                    iconImageOffset: [-30, -34]
                    // preset: 'islands#redGlyphIcon'
                });


            myPin.add(myPlacemark);
            myMap.geoObjects.add(myPin);
        }
    }
});
/*END YANDEX*/

//# sourceMappingURL=main.min.js.map